<div class="space-y-6 animate-fade-in">
    <div>
        <h1 class="text-2xl font-bold text-gray-800">Aprobación de Resultados</h1>
        <p class="text-gray-500">Convocatorias con evaluación finalizada pendientes de publicación.</p>
    </div>

    <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
        <div *ngIf="loading()" class="p-8 text-center">
            <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"></div>
        </div>

        <div *ngIf="!loading() && pendingConvocatorias().length === 0" class="p-12 text-center">
            <div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-50 mb-4">
                <lucide-icon [img]="CheckCircle" class="w-8 h-8 text-green-500"></lucide-icon>
            </div>
            <h3 class="text-lg font-medium text-gray-900">Todo al día</h3>
            <p class="text-gray-500 mt-1">No hay convocatorias pendientes de aprobación.</p>
        </div>

        <div *ngIf="!loading() && pendingConvocatorias().length > 0" class="divide-y divide-gray-100">
            <div *ngFor="let c of pendingConvocatorias()"
                class="p-6 hover:bg-gray-50 transition-colors flex flex-col md:flex-row md:items-center justify-between gap-4">
                <div>
                    <div class="flex items-center gap-3 mb-2">
                        <app-status-chip [status]="c.estado" type="CONVOCATORIA"></app-status-chip>
                        <span class="text-sm text-gray-500">{{ c.nombrePeriodo }}</span>
                    </div>
                    <h3 class="text-lg font-bold text-gray-800">{{ c.nombreAsignatura }}</h3>
                    <p class="text-sm text-gray-600 mt-1">Resultados consolidados por la comisión. Listos para revisión.
                    </p>
                </div>

                <div class="flex items-center gap-3">
                    <button [routerLink]="['/coordinator/convocatorias', c.idConvocatoria]"
                        class="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 font-medium text-sm">
                        Ver Detalles
                    </button>
                    <button (click)="approve(c.idConvocatoria!)"
                        class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium text-sm flex items-center gap-2 shadow-sm">
                        <lucide-icon [img]="CheckCircle" class="w-4 h-4"></lucide-icon>
                        Aprobar y Publicar
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>